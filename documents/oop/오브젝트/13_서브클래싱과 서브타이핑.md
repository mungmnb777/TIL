# 서브클래싱과 서브타이핑

## 타입

### 개념 관점의 타입

우리가 인지하는 세상의 사물의 종류. 즉, 우리가 인식하는 객체들에 적용하는 개념이나 아이디어를 말한다.

예를 들면, 자바, JS, C를 프로그래밍 언어라고 부를 때 이들을 프로그래밍 언어라는 타입으로 분류하는 것이다.

- `심볼` : 타입에 이름을 붙인 것이다.
- `내연` : 타입의 정의로서 타입에 속하는 객체들이 가지는 공통적인 속성이나 행동.
- `외연` : 타입에 속하는 객체들의 집합.

### 프로그래밍 언어 관점의 타입

프로그래밍 언어 관점에서 타입은 연속적인 비트에 의미와 제약을 부여하기 위해 사용된다.

이때 두가지 목적을 위해 사용된다.

- 타입에 수행될 수 있는 유효한 오퍼레이션의 집합을 정의한다.
- 타입에 수행되는 오퍼레이션에 대해 미리 약속된 문맥을 제공한다.

### 객체지향 패러다임 관점의 타입

객체의 퍼블릭 인터페이스가 객체의 타입을 결정한다. 따라서 동일한 퍼블릭 인터페이스를 제공하는 객체들은 동일한 타입으로 분류된다.

## 타입 계층

타입 사이에는 개념적으로 일반화와 특수화 관계가 존재한다. 타입 계층을 구성하는 두 타입 간의 관계에서 더 일반적인 타입을 `슈퍼타입`이라고 부르고 더 특수한 타입을 `서브타입`이라고 부른다.

- 일반화 : 다른 타입을 완전히 포함하거나 내포하는 타입을 식별하는 행위 또는 그 행위의 결과를 가리킨다.
- 특수화 : 다른 타입 안에 전체적으로 포함되거나 완전히 내포되는 타입을 식별하는 행위 또는 그 행위의 결과를 가리킨다.

## 서브클래싱과 서브타이핑

### 언제 상속을 사용해야 하는가?

- 상속 관계가 is-a 관계를 모델링하는가?
- 클라이언트 입장에서 부모 클래스의 타입으로 자식 클래스를 사용해도 무방한가?

### 서브클래싱

- 다른 클래스의 코드를 재사용할 목적으로 상속을 사용하는 경우를 가리킨다. 자식 클래스와 부모 클래스의 행동이 호환되지 않기 때문에 자식 클래스의 인스턴스가 부모 클래스의 인스턴스를 대체할 수 없다. 서브클래싱을 구현 상속 또는 클래스 상속이라고 부르기도 한다.

### 서브타이핑

- 타입 계층을 구성하기 위해 상속을 사용하는 경우를 가리킨다. 영화 예매 시스템에서 구현한 DiscountPolicy 상속 계층이 서브타이핑에 해당한다. 서브타이핑에서는 자식 클래스와 부모 클래스의 행동이 호환되기 때문에 자식 클래스의 인스턴스가 부모 클래스의 인스턴스를 대체할 수 있다. 이때 부모 클래스는 자식 클래스의 슈퍼타입이 되고 자식 클래스는 부모 클래스의 서브타입이 된다. 서브타이핑을 인터페이스 상속이라고 부르기도 한다.